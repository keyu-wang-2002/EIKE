nohup: ignoring input
2023-12-11 05:26:23.653845: I tensorflow/core/util/port.cc:110] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2023-12-11 05:26:23.655946: I tensorflow/tsl/cuda/cudart_stub.cc:28] Could not find cuda drivers on your machine, GPU will not be used.
2023-12-11 05:26:23.700641: I tensorflow/core/platform/cpu_feature_guard.cc:182] This TensorFlow binary is optimized to use available CPU instructions in performance-critical operations.
To enable the following instructions: AVX2 AVX512F AVX512_VNNI FMA, in other operations, rebuild TensorFlow with the appropriate compiler flags.
2023-12-11 05:26:24.423496: W tensorflow/compiler/tf2tensorrt/utils/py_utils.cc:38] TF-TRT Warning: Could not find TensorRT
WARNING:tensorflow:From /home/wangkeyu/wkypy/lib/python3.8/site-packages/tensorflow/python/compat/v2_compat.py:107: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
Instructions for updating:
non-resource variables are not supported in the long term
2023-12-11 11:25:23.798994: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
2023-12-11 11:25:23.822267: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:375] MLIR V1 optimization pass is not enabled
margin_ins=1.0, margin_sub=0.4, ex_rate=2, bern=1, pnorm=1
train size 822011 354996 437835 29180
epoch:0 Res: 542497.386719 Loss 3278.309570,loss1: 985.408813,loss2: 2200.633301,loss3 92.267570
epoch:100 Res: 82504.288391 Loss 850.180420,loss1: 77.777946,loss2: 733.923645,loss3 38.478851
epoch:200 Res: 81529.555115 Loss 781.295776,loss1: 40.268532,loss2: 697.585327,loss3 43.441898
epoch:300 Res: 82572.942810 Loss 861.618591,loss1: 41.866531,loss2: 768.893616,loss3 50.858437
epoch:400 Res: 81532.350891 Loss 799.340820,loss1: 26.274315,loss2: 732.411560,loss3 40.654938
epoch:500 Res: 77391.697815 Loss 761.157715,loss1: 28.783085,loss2: 694.628662,loss3 37.745953
epoch:600 Res: 72568.003479 Loss 707.374268,loss1: 28.158443,loss2: 642.006836,loss3 37.208992
epoch:700 Res: 68234.879395 Loss 674.895813,loss1: 26.220774,loss2: 615.123291,loss3 33.551785
epoch:800 Res: 65228.221008 Loss 635.171326,loss1: 21.608093,loss2: 588.458008,loss3 25.105249
epoch:900 Res: 63235.566895 Loss 632.596252,loss1: 31.053215,loss2: 583.550171,loss3 17.992853
epoch:1000 Res: 33792.184906 Loss 324.985718,loss1: 7.468917,loss2: 298.934235,loss3 18.582588
epoch:1100 Res: 29053.492523 Loss 292.108093,loss1: 5.335913,loss2: 270.376556,loss3 16.395615
epoch:1200 Res: 29178.136017 Loss 266.517700,loss1: 13.153870,loss2: 241.270645,loss3 12.093174
epoch:1300 Res: 31863.159851 Loss 315.854980,loss1: 14.331224,loss2: 289.849304,loss3 11.674454
epoch:1400 Res: 33142.763947 Loss 331.605804,loss1: 7.903905,loss2: 315.079865,loss3 8.622046
epoch:1500 Res: 35746.290649 Loss 343.050659,loss1: 17.498240,loss2: 313.083618,loss3 12.468824
epoch:1600 Res: 36277.159149 Loss 367.683563,loss1: 15.760365,loss2: 346.080627,loss3 5.842551
epoch:1700 Res: 86191.164062 Loss 4756.576172,loss1: 18.293720,loss2: 837.694458,loss3 3900.587891
epoch:1800 Res: 44286.114471 Loss 393.578369,loss1: 19.227268,loss2: 357.482422,loss3 16.868698
epoch:1900 Res: 372859.127411 Loss 4171.893555,loss1: 19.409983,loss2: 758.395203,loss3 3394.088135
epoch: 1000
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 2.1352217230069543. The best ins accuracy on valid data is 86.89%
delta_sub is 0.0. The best sub accuracy on valid data is 78.35%
-----prepare data -----
instanceOf triple classification:
TP:4384, TN:4336, FP:664, FN:616
accuracy: 87.20%
precision: 86.85%
recall: 87.68%
F1-score: 87.26%
subClassOf triple classification:
TP:908, TN:610, FP:390, FN:92
accuracy: 75.90%
precision: 69.95%
recall: 90.80%
F1-score: 79.03%
-----prepare data -----
-----start valid-----
delta_ins is 2.562266067608345. The best ins accuracy on valid data is 82.02890173410404%
delta_sub is 0.0. The best sub accuracy on valid data is 76.45324347093513%
-----prepare data -----
instanceOf triple classification:
TP:7361, TN:6875, FP:1775, FN:1289
accuracy: 82.29%
precision: 80.57%
recall: 85.10%
F1-score: 82.77%
subClassOf triple classification:
TP:1044, TN:741, FP:446, FN:143
accuracy: 75.19%
precision: 70.07%
recall: 87.95%
F1-score: 78.00%
------test classification normal-----
-----start valid normal triple----
start time:Mon Dec 11 11:07:13 2023
-----start test nomal triples----
Triple classification:
TP:8681, TN:8808, FP:556, FN:683
accuracy:93.38%
precision:93.98%
recall:92.71%
F1-score:93.34%
end time:Mon Dec 11 11:25:11 2023
cost_time:1078.3233919618651s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-11 11:48:56.776362: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 474.825, MeanRankReciprocal:0.107, Hits@10: 0.256
-----Filter-----
-----Average-----
MeanRank: 252.851, MeanRankReciprocal: 0.262, Hits@10: 52.800, Hits@5: 38.900, Hits@3: 29.600, Hits@1: 14.000
cost time: 134.813s
-----Finish evaluation-----
epoch: 1500
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 2.1309754650396875. The best ins accuracy on valid data is 86.56%
delta_sub is 0.0. The best sub accuracy on valid data is 79.45%
-----prepare data -----
instanceOf triple classification:
TP:4320, TN:4371, FP:629, FN:680
accuracy: 86.91%
precision: 87.29%
recall: 86.40%
F1-score: 86.84%
subClassOf triple classification:
TP:798, TN:756, FP:244, FN:202
accuracy: 77.70%
precision: 76.58%
recall: 79.80%
F1-score: 78.16%
-----prepare data -----
-----start valid-----
delta_ins is 2.415105527044979. The best ins accuracy on valid data is 84.08670520231213%
delta_sub is 0.0. The best sub accuracy on valid data is 78.01179443976412%
-----prepare data -----
instanceOf triple classification:
TP:7283, TN:7234, FP:1416, FN:1367
accuracy: 83.91%
precision: 83.72%
recall: 84.20%
F1-score: 83.96%
subClassOf triple classification:
TP:915, TN:912, FP:275, FN:272
accuracy: 76.96%
precision: 76.89%
recall: 77.09%
F1-score: 76.99%
------test classification normal-----
-----start valid normal triple----
start time:Mon Dec 11 11:29:52 2023
-----start test nomal triples----
Triple classification:
TP:8665, TN:8806, FP:558, FN:699
accuracy:93.29%
precision:93.95%
recall:92.54%
F1-score:93.24%
end time:Mon Dec 11 11:48:45 2023
cost_time:1132.7233513779938s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-11 12:12:45.270383: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 394.232, MeanRankReciprocal:0.113, Hits@10: 0.272
-----Filter-----
-----Average-----
MeanRank: 173.456, MeanRankReciprocal: 0.282, Hits@10: 54.700, Hits@5: 41.600, Hits@3: 32.000, Hits@1: 15.700
cost time: 126.427s
-----Finish evaluation-----
epoch: 2000
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 0.0. The best ins accuracy on valid data is 50.0%
delta_sub is 0.0. The best sub accuracy on valid data is 68.15%
-----prepare data -----
instanceOf triple classification:
TP:0, TN:5000, FP:0, FN:5000
accuracy: 50.00%
precision: 100.00%
recall: 0.02%
F1-score: 0.04%
subClassOf triple classification:
TP:442, TN:936, FP:64, FN:558
accuracy: 68.90%
precision: 87.35%
recall: 44.20%
F1-score: 58.70%
-----prepare data -----
-----start valid-----
delta_ins is 0.0. The best ins accuracy on valid data is 50.0%
delta_sub is 0.0. The best sub accuracy on valid data is 68.15501263689974%
-----prepare data -----
instanceOf triple classification:
TP:0, TN:8650, FP:0, FN:8650
accuracy: 50.00%
precision: 100.00%
recall: 0.01%
F1-score: 0.02%
subClassOf triple classification:
TP:510, TN:1113, FP:74, FN:677
accuracy: 68.37%
precision: 87.33%
recall: 42.97%
F1-score: 57.59%
------test classification normal-----
-----start valid normal triple----
start time:Mon Dec 11 11:53:19 2023
-----start test nomal triples----
Triple classification:
TP:8671, TN:8841, FP:523, FN:693
accuracy:93.51%
precision:94.31%
recall:92.60%
F1-score:93.45%
end time:Mon Dec 11 12:12:21 2023
cost_time:1141.9986151149496s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-11 18:18:49.623560: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 414.086, MeanRankReciprocal:0.094, Hits@10: 0.243
-----Filter-----
-----Average-----
MeanRank: 190.837, MeanRankReciprocal: 0.200, Hits@10: 54.400, Hits@5: 39.000, Hits@3: 27.500, Hits@1: 3.300
cost time: 154.882s
-----Finish evaluation-----
start time:Mon Dec 11 05:26:25 2023
end time:Mon Dec 11 11:05:08 2023
test end time:Mon Dec 11 12:15:23 2023
margin_ins=1.0, margin_sub=0.4, ex_rate=1, bern=1, pnorm=1
train size 822011 354996 437835 29180
epoch:0 Res: 515940.617432 Loss 3275.104248,loss1: 1005.387939,loss2: 2181.585449,loss3 88.130974
epoch:100 Res: 81383.645874 Loss 801.310791,loss1: 63.249317,loss2: 699.386780,loss3 38.674683
epoch:200 Res: 81869.551758 Loss 857.725403,loss1: 50.860115,loss2: 765.506836,loss3 41.358471
epoch:300 Res: 82725.507446 Loss 846.305725,loss1: 37.118916,loss2: 767.289307,loss3 41.897533
epoch:400 Res: 81461.298767 Loss 842.129822,loss1: 26.730160,loss2: 772.140015,loss3 43.259644
epoch:500 Res: 77879.650940 Loss 765.951721,loss1: 34.979477,loss2: 689.263672,loss3 41.708572
epoch:600 Res: 72482.457520 Loss 702.059875,loss1: 32.399178,loss2: 636.453003,loss3 33.207718
epoch:700 Res: 68224.611389 Loss 681.627563,loss1: 24.480865,loss2: 627.592773,loss3 29.553959
epoch:800 Res: 64930.608826 Loss 666.687134,loss1: 24.539841,loss2: 610.125732,loss3 32.021576
epoch:900 Res: 62874.617432 Loss 624.432251,loss1: 19.410496,loss2: 586.680176,loss3 18.341560
epoch:1000 Res: 34054.657562 Loss 335.076172,loss1: 5.574250,loss2: 305.722870,loss3 23.779068
epoch:1100 Res: 29571.606628 Loss 294.141663,loss1: 7.440270,loss2: 270.505646,loss3 16.195732
epoch:1200 Res: 29392.560883 Loss 294.527283,loss1: 9.386895,loss2: 269.004761,loss3 16.135624
epoch:1300 Res: 32431.941437 Loss 331.406860,loss1: 14.120516,loss2: 302.366516,loss3 14.919816
epoch:1400 Res: 33939.396027 Loss 346.578644,loss1: 10.593225,loss2: 325.521545,loss3 10.463873
epoch:1500 Res: 36277.320831 Loss 351.170471,loss1: 10.544594,loss2: 325.642639,loss3 14.983251
epoch:1600 Res: 36936.848022 Loss 372.454376,loss1: 20.091848,loss2: 337.031067,loss3 15.331463
epoch:1700 Res: 38703.548737 Loss 361.833008,loss1: 19.533758,loss2: 329.745331,loss3 12.553936
epoch:1800 Res: 38446.535614 Loss 360.014404,loss1: 12.586397,loss2: 334.235352,loss3 13.192646
epoch:1900 Res: 39617.977112 Loss 390.507690,loss1: 17.103870,loss2: 363.159485,loss3 10.244327
epoch: 1000
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 1.4345588995806509. The best ins accuracy on valid data is 87.33%
delta_sub is 0.4. The best sub accuracy on valid data is 78.15%
-----prepare data -----
instanceOf triple classification:
TP:4389, TN:4352, FP:648, FN:611
accuracy: 87.41%
precision: 87.14%
recall: 87.78%
F1-score: 87.46%
subClassOf triple classification:
TP:950, TN:566, FP:434, FN:50
accuracy: 75.80%
precision: 68.64%
recall: 95.00%
F1-score: 79.70%
-----prepare data -----
-----start valid-----
delta_ins is 1.4345588995806509. The best ins accuracy on valid data is 86.28323699421965%
delta_sub is 0.14. The best sub accuracy on valid data is 77.2535804549284%
-----prepare data -----
instanceOf triple classification:
TP:7365, TN:7521, FP:1129, FN:1285
accuracy: 86.05%
precision: 86.71%
recall: 85.14%
F1-score: 85.92%
subClassOf triple classification:
TP:1156, TN:642, FP:545, FN:31
accuracy: 75.74%
precision: 67.96%
recall: 97.39%
F1-score: 80.06%
------test classification normal-----
-----start valid normal triple----
start time:Mon Dec 11 18:01:07 2023
-----start test nomal triples----
Triple classification:
TP:8750, TN:8689, FP:675, FN:614
accuracy:93.12%
precision:92.84%
recall:93.44%
F1-score:93.14%
end time:Mon Dec 11 18:18:21 2023
cost_time:1033.470173821319s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-11 18:43:14.241263: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 488.431, MeanRankReciprocal:0.107, Hits@10: 0.259
-----Filter-----
-----Average-----
MeanRank: 265.336, MeanRankReciprocal: 0.271, Hits@10: 53.500, Hits@5: 40.100, Hits@3: 30.800, Hits@1: 14.900
cost time: 189.985s
-----Finish evaluation-----
epoch: 1500
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 1.5664449063956203. The best ins accuracy on valid data is 86.81%
delta_sub is 0.22. The best sub accuracy on valid data is 81.15%
-----prepare data -----
instanceOf triple classification:
TP:4396, TN:4346, FP:654, FN:604
accuracy: 87.42%
precision: 87.05%
recall: 87.92%
F1-score: 87.48%
subClassOf triple classification:
TP:949, TN:631, FP:369, FN:51
accuracy: 79.00%
precision: 72.00%
recall: 94.90%
F1-score: 81.88%
-----prepare data -----
-----start valid-----
delta_ins is 1.4840004376379563. The best ins accuracy on valid data is 86.24277456647398%
delta_sub is 0.24. The best sub accuracy on valid data is 80.24431339511374%
-----prepare data -----
instanceOf triple classification:
TP:7295, TN:7642, FP:1008, FN:1355
accuracy: 86.34%
precision: 87.86%
recall: 84.34%
F1-score: 86.06%
subClassOf triple classification:
TP:1114, TN:760, FP:427, FN:73
accuracy: 78.94%
precision: 72.29%
recall: 93.85%
F1-score: 81.67%
------test classification normal-----
-----start valid normal triple----
start time:Mon Dec 11 18:24:24 2023
-----start test nomal triples----
Triple classification:
TP:8665, TN:8792, FP:572, FN:699
accuracy:93.21%
precision:93.81%
recall:92.54%
F1-score:93.17%
end time:Mon Dec 11 18:43:01 2023
cost_time:1117.400912286248s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-11 19:09:29.818362: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 409.879, MeanRankReciprocal:0.114, Hits@10: 0.272
-----Filter-----
-----Average-----
MeanRank: 186.451, MeanRankReciprocal: 0.282, Hits@10: 55.100, Hits@5: 41.700, Hits@3: 32.300, Hits@1: 15.700
cost time: 222.936s
-----Finish evaluation-----
epoch: 2000
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 1.9481667148073556. The best ins accuracy on valid data is 85.86%
delta_sub is 0.0. The best sub accuracy on valid data is 81.05%
-----prepare data -----
instanceOf triple classification:
TP:4145, TN:4426, FP:574, FN:855
accuracy: 85.71%
precision: 87.84%
recall: 82.90%
F1-score: 85.30%
subClassOf triple classification:
TP:885, TN:709, FP:291, FN:115
accuracy: 79.70%
precision: 75.26%
recall: 88.50%
F1-score: 81.34%
-----prepare data -----
-----start valid-----
delta_ins is 1.9481667148073556. The best ins accuracy on valid data is 86.0%
delta_sub is 0.0. The best sub accuracy on valid data is 79.78096040438079%
-----prepare data -----
instanceOf triple classification:
TP:7146, TN:7625, FP:1025, FN:1504
accuracy: 85.38%
precision: 87.46%
recall: 82.61%
F1-score: 84.97%
subClassOf triple classification:
TP:1028, TN:852, FP:335, FN:159
accuracy: 79.19%
precision: 75.42%
recall: 86.60%
F1-score: 80.63%
------test classification normal-----
-----start valid normal triple----
start time:Mon Dec 11 18:50:45 2023
-----start test nomal triples----
Triple classification:
TP:8704, TN:8782, FP:582, FN:660
accuracy:93.37%
precision:93.73%
recall:92.95%
F1-score:93.34%
end time:Mon Dec 11 19:09:09 2023
cost_time:1103.5812146766111s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-12 01:29:30.523267: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 422.036, MeanRankReciprocal:0.093, Hits@10: 0.241
-----Filter-----
-----Average-----
MeanRank: 198.580, MeanRankReciprocal: 0.199, Hits@10: 54.000, Hits@5: 38.800, Hits@3: 27.200, Hits@1: 3.200
cost time: 176.171s
-----Finish evaluation-----
start time:Mon Dec 11 12:15:28 2023
end time:Mon Dec 11 17:58:55 2023
test end time:Mon Dec 11 19:12:33 2023
margin_ins=1.0, margin_sub=0.4, ex_rate=0.5, bern=1, pnorm=1
train size 822011 354996 437835 29180
epoch:0 Res: 516115.601318 Loss 3303.389648,loss1: 934.136230,loss2: 2288.806641,loss3 80.446686
epoch:100 Res: 81569.382507 Loss 840.030457,loss1: 76.810593,loss2: 716.735107,loss3 46.484718
epoch:200 Res: 81962.216797 Loss 826.597778,loss1: 53.120461,loss2: 730.465210,loss3 43.012081
epoch:300 Res: 82661.872070 Loss 858.683105,loss1: 52.810890,loss2: 763.441772,loss3 42.430397
epoch:400 Res: 81264.933533 Loss 808.055298,loss1: 32.986141,loss2: 729.860413,loss3 45.208717
epoch:500 Res: 76651.116150 Loss 768.863892,loss1: 17.634577,loss2: 716.945496,loss3 34.283825
epoch:600 Res: 71960.293640 Loss 727.174988,loss1: 26.681053,loss2: 665.759277,loss3 34.734703
epoch:700 Res: 68141.665100 Loss 660.279297,loss1: 28.304955,loss2: 601.663147,loss3 30.311218
epoch:800 Res: 64982.936951 Loss 648.138489,loss1: 24.363617,loss2: 596.489563,loss3 27.285368
epoch:900 Res: 62977.519165 Loss 643.460632,loss1: 19.984554,loss2: 602.534790,loss3 20.941307
epoch:1000 Res: 33689.409454 Loss 336.627380,loss1: 2.669594,loss2: 312.934418,loss3 21.023365
epoch:1100 Res: 29074.297699 Loss 303.341431,loss1: 6.923408,loss2: 283.120544,loss3 13.297476
epoch:1200 Res: 29097.010468 Loss 292.063202,loss1: 8.580873,loss2: 272.251953,loss3 11.230375
epoch:1300 Res: 31868.141571 Loss 313.504669,loss1: 5.231949,loss2: 294.611755,loss3 13.660979
epoch:1400 Res: 33246.691711 Loss 321.464569,loss1: 16.226608,loss2: 298.829651,loss3 6.408291
epoch:1500 Res: 35604.200989 Loss 354.567657,loss1: 12.492968,loss2: 335.866913,loss3 6.207766
epoch:1600 Res: 36153.868469 Loss 339.640350,loss1: 15.794441,loss2: 316.022583,loss3 7.823341
epoch:1700 Res: 37747.878479 Loss 351.084839,loss1: 19.562958,loss2: 324.348572,loss3 7.173321
epoch:1800 Res: 37686.304413 Loss 378.932098,loss1: 13.605522,loss2: 359.385773,loss3 5.940807
epoch:1900 Res: 589461.677704 Loss 6979.984375,loss1: 21.331261,loss2: 1133.619141,loss3 5825.033691
epoch: 1000
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 1.0823796188458987. The best ins accuracy on valid data is 87.23%
delta_sub is 0.78. The best sub accuracy on valid data is 78.0%
-----prepare data -----
instanceOf triple classification:
TP:4393, TN:4301, FP:699, FN:607
accuracy: 86.94%
precision: 86.27%
recall: 87.86%
F1-score: 87.06%
subClassOf triple classification:
TP:919, TN:570, FP:430, FN:81
accuracy: 74.45%
precision: 68.12%
recall: 91.90%
F1-score: 78.25%
-----prepare data -----
-----start valid-----
delta_ins is 1.1500283450237674. The best ins accuracy on valid data is 85.15028901734104%
delta_sub is 0.78. The best sub accuracy on valid data is 76.70598146588037%
-----prepare data -----
instanceOf triple classification:
TP:7421, TN:7264, FP:1386, FN:1229
accuracy: 84.88%
precision: 84.26%
recall: 85.79%
F1-score: 85.02%
subClassOf triple classification:
TP:1069, TN:696, FP:491, FN:118
accuracy: 74.35%
precision: 68.53%
recall: 90.06%
F1-score: 77.83%
------test classification normal-----
-----start valid normal triple----
start time:Tue Dec 12 01:09:50 2023
-----start test nomal triples----
Triple classification:
TP:8673, TN:8842, FP:522, FN:691
accuracy:93.52%
precision:94.32%
recall:92.62%
F1-score:93.46%
end time:Tue Dec 12 01:29:18 2023
cost_time:1167.722537360154s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-12 01:54:41.813529: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 470.147, MeanRankReciprocal:0.110, Hits@10: 0.265
-----Filter-----
-----Average-----
MeanRank: 251.311, MeanRankReciprocal: 0.277, Hits@10: 54.900, Hits@5: 41.100, Hits@3: 31.700, Hits@1: 15.200
cost time: 159.256s
-----Finish evaluation-----
epoch: 1500
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 1.2952036070489654. The best ins accuracy on valid data is 86.62%
delta_sub is 0.42. The best sub accuracy on valid data is 82.1%
-----prepare data -----
instanceOf triple classification:
TP:4449, TN:4213, FP:787, FN:551
accuracy: 86.62%
precision: 84.97%
recall: 88.98%
F1-score: 86.93%
subClassOf triple classification:
TP:935, TN:671, FP:329, FN:65
accuracy: 80.30%
precision: 73.97%
recall: 93.50%
F1-score: 82.60%
-----prepare data -----
-----start valid-----
delta_ins is 1.2952036070489654. The best ins accuracy on valid data is 84.41040462427746%
delta_sub is 0.32. The best sub accuracy on valid data is 81.044650379107%
-----prepare data -----
instanceOf triple classification:
TP:7247, TN:7295, FP:1355, FN:1403
accuracy: 84.06%
precision: 84.25%
recall: 83.78%
F1-score: 84.01%
subClassOf triple classification:
TP:1127, TN:789, FP:398, FN:60
accuracy: 80.71%
precision: 73.90%
recall: 94.95%
F1-score: 83.11%
------test classification normal-----
-----start valid normal triple----
start time:Tue Dec 12 01:34:37 2023
-----start test nomal triples----
Triple classification:
TP:8680, TN:8823, FP:541, FN:684
accuracy:93.46%
precision:94.13%
recall:92.70%
F1-score:93.41%
end time:Tue Dec 12 01:54:22 2023
cost_time:1184.3957704831846s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-12 02:14:35.220431: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 400.509, MeanRankReciprocal:0.114, Hits@10: 0.276
-----Filter-----
-----Average-----
MeanRank: 178.934, MeanRankReciprocal: 0.286, Hits@10: 55.900, Hits@5: 42.200, Hits@3: 32.700, Hits@1: 15.900
cost time: 190.317s
-----Finish evaluation-----
epoch: 2000
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 0.0. The best ins accuracy on valid data is 50.0%
delta_sub is 0.02. The best sub accuracy on valid data is 72.1%
-----prepare data -----
instanceOf triple classification:
TP:0, TN:5000, FP:0, FN:5000
accuracy: 50.00%
precision: 100.00%
recall: 0.02%
F1-score: 0.04%
subClassOf triple classification:
TP:624, TN:826, FP:174, FN:376
accuracy: 72.50%
precision: 78.20%
recall: 62.40%
F1-score: 69.41%
-----prepare data -----
-----start valid-----
delta_ins is 0.0. The best ins accuracy on valid data is 50.0%
delta_sub is 0.02. The best sub accuracy on valid data is 73.54675652906487%
-----prepare data -----
instanceOf triple classification:
TP:0, TN:8650, FP:0, FN:8650
accuracy: 50.00%
precision: 100.00%
recall: 0.01%
F1-score: 0.02%
subClassOf triple classification:
TP:763, TN:980, FP:207, FN:424
accuracy: 73.42%
precision: 78.66%
recall: 64.28%
F1-score: 70.75%
------test classification normal-----
-----start valid normal triple----
start time:Tue Dec 12 02:01:00 2023
-----start test nomal triples----
Triple classification:
TP:8632, TN:8858, FP:506, FN:732
accuracy:93.39%
precision:94.46%
recall:92.18%
F1-score:93.31%
end time:Tue Dec 12 02:14:15 2023
cost_time:795.0760507881641s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-12 08:19:07.853792: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 411.611, MeanRankReciprocal:0.092, Hits@10: 0.243
-----Filter-----
-----Average-----
MeanRank: 192.616, MeanRankReciprocal: 0.196, Hits@10: 54.300, Hits@5: 39.000, Hits@3: 26.800, Hits@1: 2.900
cost time: 204.423s
-----Finish evaluation-----
start time:Mon Dec 11 19:12:43 2023
end time:Tue Dec 12 01:07:19 2023
test end time:Tue Dec 12 02:18:10 2023
margin_ins=1.0, margin_sub=0.4, ex_rate=0.1, bern=1, pnorm=1
train size 822011 354996 437835 29180
epoch:0 Res: 495914.892822 Loss 3307.561523,loss1: 1006.430115,loss2: 2219.107422,loss3 82.024002
epoch:100 Res: 81850.457397 Loss 823.224304,loss1: 75.147247,loss2: 705.984131,loss3 42.092957
epoch:200 Res: 82222.961548 Loss 856.291016,loss1: 60.209846,loss2: 753.773865,loss3 42.307304
epoch:300 Res: 82325.240295 Loss 834.349548,loss1: 27.829208,loss2: 759.551270,loss3 46.969063
epoch:400 Res: 81539.685181 Loss 808.853577,loss1: 30.055662,loss2: 739.645508,loss3 39.152412
epoch:500 Res: 77502.036865 Loss 777.069458,loss1: 27.983849,loss2: 708.024658,loss3 41.060963
epoch:600 Res: 72353.263123 Loss 724.424683,loss1: 26.342936,loss2: 657.282166,loss3 40.799568
epoch:700 Res: 68349.847229 Loss 646.629639,loss1: 23.343994,loss2: 588.127686,loss3 35.157940
epoch:800 Res: 65368.642395 Loss 658.699219,loss1: 32.034370,loss2: 596.301880,loss3 30.362986
epoch:900 Res: 63240.855286 Loss 639.423218,loss1: 16.266731,loss2: 601.311157,loss3 21.845322
epoch:1000 Res: 34092.769043 Loss 342.606323,loss1: 2.428555,loss2: 316.572144,loss3 23.605618
epoch:1100 Res: 29325.393372 Loss 274.406036,loss1: 3.404632,loss2: 257.598816,loss3 13.402578
epoch:1200 Res: 29222.321747 Loss 274.152710,loss1: 9.203889,loss2: 254.652786,loss3 10.296016
epoch:1300 Res: 32189.624542 Loss 329.444580,loss1: 12.862068,loss2: 306.082886,loss3 10.499643
epoch:1400 Res: 33747.203003 Loss 322.994965,loss1: 10.342185,loss2: 303.004272,loss3 9.648490
epoch:1500 Res: 35644.469849 Loss 353.600800,loss1: 11.144202,loss2: 332.980164,loss3 9.476446
epoch:1600 Res: 36212.972046 Loss 380.684265,loss1: 19.661907,loss2: 349.016968,loss3 12.005416
epoch:1700 Res: 38290.080322 Loss 400.340851,loss1: 14.089769,loss2: 372.348572,loss3 13.902491
epoch:1800 Res: 37916.690094 Loss 365.879486,loss1: 12.269966,loss2: 346.342957,loss3 7.266556
epoch:1900 Res: 39791.036987 Loss 405.734680,loss1: 19.555012,loss2: 380.462524,loss3 5.717145
epoch: 1000
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 0.8100919634967113. The best ins accuracy on valid data is 86.41%
delta_sub is 0.74. The best sub accuracy on valid data is 75.05%
-----prepare data -----
instanceOf triple classification:
TP:4398, TN:4208, FP:792, FN:602
accuracy: 86.06%
precision: 84.74%
recall: 87.96%
F1-score: 86.32%
subClassOf triple classification:
TP:986, TN:478, FP:522, FN:14
accuracy: 73.20%
precision: 65.38%
recall: 98.60%
F1-score: 78.63%
-----prepare data -----
-----start valid-----
delta_ins is 0.7545650403207291. The best ins accuracy on valid data is 86.28323699421965%
delta_sub is 0.74. The best sub accuracy on valid data is 73.92586352148273%
-----prepare data -----
instanceOf triple classification:
TP:7398, TN:7474, FP:1176, FN:1252
accuracy: 85.97%
precision: 86.28%
recall: 85.53%
F1-score: 85.90%
subClassOf triple classification:
TP:1156, TN:587, FP:600, FN:31
accuracy: 73.42%
precision: 65.83%
recall: 97.39%
F1-score: 78.56%
------test classification normal-----
-----start valid normal triple----
start time:Tue Dec 12 08:03:34 2023
-----start test nomal triples----
Triple classification:
TP:8654, TN:8856, FP:508, FN:710
accuracy:93.50%
precision:94.46%
recall:92.42%
F1-score:93.43%
end time:Tue Dec 12 08:18:32 2023
cost_time:897.6944246571511s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-12 08:46:15.645442: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 511.307, MeanRankReciprocal:0.111, Hits@10: 0.265
-----Filter-----
-----Average-----
MeanRank: 283.403, MeanRankReciprocal: 0.276, Hits@10: 53.900, Hits@5: 41.000, Hits@3: 31.400, Hits@1: 15.200
cost time: 240.877s
-----Finish evaluation-----
epoch: 1500
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 0.9359315133963403. The best ins accuracy on valid data is 86.37%
delta_sub is 0.64. The best sub accuracy on valid data is 79.05%
-----prepare data -----
instanceOf triple classification:
TP:4355, TN:4315, FP:685, FN:645
accuracy: 86.70%
precision: 86.41%
recall: 87.10%
F1-score: 86.75%
subClassOf triple classification:
TP:968, TN:574, FP:426, FN:32
accuracy: 77.10%
precision: 69.44%
recall: 96.80%
F1-score: 80.87%
-----prepare data -----
-----start valid-----
delta_ins is 0.9879277085850259. The best ins accuracy on valid data is 84.41040462427746%
delta_sub is 0.64. The best sub accuracy on valid data is 78.05391743892164%
-----prepare data -----
instanceOf triple classification:
TP:7282, TN:7282, FP:1368, FN:1368
accuracy: 84.18%
precision: 84.18%
recall: 84.18%
F1-score: 84.18%
subClassOf triple classification:
TP:1133, TN:695, FP:492, FN:54
accuracy: 77.00%
precision: 69.72%
recall: 95.45%
F1-score: 80.58%
------test classification normal-----
-----start valid normal triple----
start time:Tue Dec 12 08:30:06 2023
-----start test nomal triples----
Triple classification:
TP:8648, TN:8868, FP:496, FN:716
accuracy:93.53%
precision:94.58%
recall:92.35%
F1-score:93.45%
end time:Tue Dec 12 08:46:01 2023
cost_time:954.9815347539261s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-12 09:09:44.276918: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 405.607, MeanRankReciprocal:0.114, Hits@10: 0.274
-----Filter-----
-----Average-----
MeanRank: 181.502, MeanRankReciprocal: 0.285, Hits@10: 55.300, Hits@5: 42.400, Hits@3: 32.400, Hits@1: 15.900
cost time: 195.771s
-----Finish evaluation-----
epoch: 2000
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 1.2719231790146772. The best ins accuracy on valid data is 84.9%
delta_sub is 0.36. The best sub accuracy on valid data is 81.05%
-----prepare data -----
instanceOf triple classification:
TP:4299, TN:4192, FP:808, FN:701
accuracy: 84.91%
precision: 84.18%
recall: 85.98%
F1-score: 85.07%
subClassOf triple classification:
TP:935, TN:653, FP:347, FN:65
accuracy: 79.40%
precision: 72.93%
recall: 93.50%
F1-score: 81.95%
-----prepare data -----
-----start valid-----
delta_ins is 1.2719231790146772. The best ins accuracy on valid data is 81.96531791907515%
delta_sub is 0.34. The best sub accuracy on valid data is 80.03369839932603%
-----prepare data -----
instanceOf triple classification:
TP:6893, TN:7234, FP:1416, FN:1757
accuracy: 81.66%
precision: 82.96%
recall: 79.69%
F1-score: 81.29%
subClassOf triple classification:
TP:1094, TN:782, FP:405, FN:93
accuracy: 79.02%
precision: 72.98%
recall: 92.17%
F1-score: 81.46%
------test classification normal-----
-----start valid normal triple----
start time:Tue Dec 12 08:52:50 2023
-----start test nomal triples----
Triple classification:
TP:8692, TN:8808, FP:556, FN:672
accuracy:93.44%
precision:93.99%
recall:92.82%
F1-score:93.40%
end time:Tue Dec 12 09:09:19 2023
cost_time:988.5229335729964s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-12 15:11:03.955014: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 430.027, MeanRankReciprocal:0.095, Hits@10: 0.248
-----Filter-----
-----Average-----
MeanRank: 203.868, MeanRankReciprocal: 0.205, Hits@10: 55.100, Hits@5: 40.000, Hits@3: 28.300, Hits@1: 3.500
cost time: 193.935s
-----Finish evaluation-----
start time:Tue Dec 12 02:18:22 2023
end time:Tue Dec 12 08:01:03 2023
test end time:Tue Dec 12 09:14:28 2023
margin_ins=1.0, margin_sub=0.3, ex_rate=2, bern=1, pnorm=1
train size 822011 354996 437835 29180
epoch:0 Res: 496427.133301 Loss 3274.294678,loss1: 1005.007935,loss2: 2207.488770,loss3 61.798153
epoch:100 Res: 80500.264160 Loss 792.292847,loss1: 74.789246,loss2: 700.710388,loss3 16.793228
epoch:200 Res: 80164.901855 Loss 806.777954,loss1: 62.441925,loss2: 718.326660,loss3 26.009384
epoch:300 Res: 81462.187561 Loss 819.921570,loss1: 36.320328,loss2: 762.021057,loss3 21.580219
epoch:400 Res: 80757.427429 Loss 790.688232,loss1: 38.661133,loss2: 725.895264,loss3 26.131847
epoch:500 Res: 77070.574524 Loss 761.675659,loss1: 30.191998,loss2: 703.685669,loss3 27.797970
epoch:600 Res: 71850.732605 Loss 681.723145,loss1: 29.209951,loss2: 628.827759,loss3 23.685423
epoch:700 Res: 67964.736450 Loss 650.749512,loss1: 18.660477,loss2: 607.288330,loss3 24.800743
epoch:800 Res: 65366.258301 Loss 672.568970,loss1: 20.735970,loss2: 626.386780,loss3 25.446243
epoch:900 Res: 62815.850098 Loss 641.071899,loss1: 26.720764,loss2: 595.343384,loss3 19.007765
epoch:1000 Res: 34353.833221 Loss 356.962616,loss1: 6.050378,loss2: 332.449005,loss3 18.463215
epoch:1100 Res: 29397.703278 Loss 291.964325,loss1: 6.738736,loss2: 270.537964,loss3 14.687618
epoch:1200 Res: 29622.343018 Loss 273.151825,loss1: 7.860536,loss2: 250.910934,loss3 14.380348
epoch:1300 Res: 32509.430817 Loss 320.189178,loss1: 9.286435,loss2: 295.371063,loss3 15.531676
epoch:1400 Res: 33702.885864 Loss 358.028625,loss1: 17.031647,loss2: 327.538208,loss3 13.458782
epoch:1500 Res: 36323.628113 Loss 363.300232,loss1: 9.640053,loss2: 337.822296,loss3 15.837900
epoch:1600 Res: 37425.449341 Loss 352.340210,loss1: 19.609436,loss2: 322.651611,loss3 10.079157
epoch:1700 Res: 38942.351776 Loss 402.887695,loss1: 18.937943,loss2: 372.585449,loss3 11.364320
epoch:1800 Res: 38681.413330 Loss 397.955536,loss1: 28.249086,loss2: 358.397888,loss3 11.308569
epoch:1900 Res: 40185.655701 Loss 392.016327,loss1: 17.144302,loss2: 356.524841,loss3 18.347206
epoch: 1000
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 2.070478049171457. The best ins accuracy on valid data is 86.98%
delta_sub is 0.0. The best sub accuracy on valid data is 75.8%
-----prepare data -----
instanceOf triple classification:
TP:4338, TN:4384, FP:616, FN:662
accuracy: 87.22%
precision: 87.57%
recall: 86.76%
F1-score: 87.16%
subClassOf triple classification:
TP:942, TN:550, FP:450, FN:58
accuracy: 74.60%
precision: 67.67%
recall: 94.20%
F1-score: 78.76%
-----prepare data -----
-----start valid-----
delta_ins is 2.3395371938795857. The best ins accuracy on valid data is 84.66473988439306%
delta_sub is 0.0. The best sub accuracy on valid data is 74.72620050547599%
-----prepare data -----
instanceOf triple classification:
TP:7406, TN:7225, FP:1425, FN:1244
accuracy: 84.57%
precision: 83.86%
recall: 85.62%
F1-score: 84.73%
subClassOf triple classification:
TP:1105, TN:670, FP:517, FN:82
accuracy: 74.77%
precision: 68.13%
recall: 93.09%
F1-score: 78.68%
------test classification normal-----
-----start valid normal triple----
start time:Tue Dec 12 14:57:43 2023
-----start test nomal triples----
Triple classification:
TP:8628, TN:8844, FP:520, FN:736
accuracy:93.29%
precision:94.32%
recall:92.14%
F1-score:93.22%
end time:Tue Dec 12 15:10:45 2023
cost_time:781.7619257662445s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-12 15:30:12.768314: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 535.655, MeanRankReciprocal:0.107, Hits@10: 0.250
-----Filter-----
-----Average-----
MeanRank: 319.121, MeanRankReciprocal: 0.251, Hits@10: 51.800, Hits@5: 38.300, Hits@3: 28.700, Hits@1: 12.800
cost time: 187.325s
-----Finish evaluation-----
epoch: 1500
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 2.1086098899976364. The best ins accuracy on valid data is 86.83%
delta_sub is 0.06. The best sub accuracy on valid data is 79.3%
-----prepare data -----
instanceOf triple classification:
TP:4299, TN:4397, FP:603, FN:701
accuracy: 86.96%
precision: 87.70%
recall: 85.98%
F1-score: 86.83%
subClassOf triple classification:
TP:892, TN:665, FP:335, FN:108
accuracy: 77.85%
precision: 72.70%
recall: 89.20%
F1-score: 80.11%
-----prepare data -----
-----start valid-----
delta_ins is 2.1086098899976364. The best ins accuracy on valid data is 86.00578034682081%
delta_sub is 0.04. The best sub accuracy on valid data is 78.64363942712721%
-----prepare data -----
instanceOf triple classification:
TP:7244, TN:7584, FP:1066, FN:1406
accuracy: 85.71%
precision: 87.17%
recall: 83.75%
F1-score: 85.42%
subClassOf triple classification:
TP:1053, TN:800, FP:387, FN:134
accuracy: 78.05%
precision: 73.12%
recall: 88.71%
F1-score: 80.17%
------test classification normal-----
-----start valid normal triple----
start time:Tue Dec 12 15:17:41 2023
-----start test nomal triples----
Triple classification:
TP:8673, TN:8813, FP:551, FN:691
accuracy:93.37%
precision:94.03%
recall:92.62%
F1-score:93.32%
end time:Tue Dec 12 15:30:00 2023
cost_time:738.9610341130756s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-12 15:47:47.477655: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 426.170, MeanRankReciprocal:0.112, Hits@10: 0.266
-----Filter-----
-----Average-----
MeanRank: 214.233, MeanRankReciprocal: 0.272, Hits@10: 54.200, Hits@5: 40.400, Hits@3: 30.900, Hits@1: 14.900
cost time: 159.093s
-----Finish evaluation-----
epoch: 2000
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 2.7101404510581593. The best ins accuracy on valid data is 85.58%
delta_sub is 0.0. The best sub accuracy on valid data is 76.95%
-----prepare data -----
instanceOf triple classification:
TP:4158, TN:4413, FP:587, FN:842
accuracy: 85.71%
precision: 87.63%
recall: 83.16%
F1-score: 85.34%
subClassOf triple classification:
TP:761, TN:766, FP:234, FN:239
accuracy: 76.35%
precision: 76.48%
recall: 76.10%
F1-score: 76.29%
-----prepare data -----
-----start valid-----
delta_ins is 2.6550252554101412. The best ins accuracy on valid data is 85.71676300578035%
delta_sub is 0.0. The best sub accuracy on valid data is 75.56866048862679%
-----prepare data -----
instanceOf triple classification:
TP:7090, TN:7674, FP:976, FN:1560
accuracy: 85.34%
precision: 87.90%
recall: 81.97%
F1-score: 84.83%
subClassOf triple classification:
TP:876, TN:915, FP:272, FN:311
accuracy: 75.44%
precision: 76.31%
recall: 73.80%
F1-score: 75.03%
------test classification normal-----
-----start valid normal triple----
start time:Tue Dec 12 15:35:09 2023
-----start test nomal triples----
Triple classification:
TP:8700, TN:8809, FP:555, FN:664
accuracy:93.49%
precision:94.00%
recall:92.91%
F1-score:93.45%
end time:Tue Dec 12 15:47:29 2023
cost_time:740.138319847174s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-12 21:50:17.349825: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 416.798, MeanRankReciprocal:0.093, Hits@10: 0.241
-----Filter-----
-----Average-----
MeanRank: 206.674, MeanRankReciprocal: 0.196, Hits@10: 53.100, Hits@5: 38.000, Hits@3: 26.500, Hits@1: 3.300
cost time: 157.998s
-----Finish evaluation-----
start time:Tue Dec 12 09:14:37 2023
end time:Tue Dec 12 14:55:35 2023
test end time:Tue Dec 12 15:50:35 2023
margin_ins=1.0, margin_sub=0.3, ex_rate=1, bern=1, pnorm=1
train size 822011 354996 437835 29180
epoch:0 Res: 516709.032959 Loss 3152.449951,loss1: 911.042480,loss2: 2184.233643,loss3 57.173897
epoch:100 Res: 80147.512024 Loss 826.954468,loss1: 75.759018,loss2: 724.461548,loss3 26.733871
epoch:200 Res: 80199.871765 Loss 807.339905,loss1: 53.404564,loss2: 729.035095,loss3 24.900291
epoch:300 Res: 81035.233276 Loss 796.253540,loss1: 41.508110,loss2: 727.222778,loss3 27.522617
epoch:400 Res: 79852.400208 Loss 798.282837,loss1: 37.753006,loss2: 731.933411,loss3 28.596428
epoch:500 Res: 76383.061401 Loss 761.773376,loss1: 33.712769,loss2: 701.034302,loss3 27.026283
epoch:600 Res: 71246.519287 Loss 700.683594,loss1: 39.362045,loss2: 634.020874,loss3 27.300636
epoch:700 Res: 67586.290955 Loss 685.559937,loss1: 27.721397,loss2: 630.158081,loss3 27.680492
epoch:800 Res: 64709.755310 Loss 628.600769,loss1: 17.308163,loss2: 589.442627,loss3 21.849979
epoch:900 Res: 62745.641479 Loss 615.920898,loss1: 25.274860,loss2: 573.598022,loss3 17.048004
epoch:1000 Res: 34114.432983 Loss 353.825867,loss1: 3.302406,loss2: 330.556030,loss3 19.967428
epoch:1100 Res: 29347.861725 Loss 306.006348,loss1: 7.442889,loss2: 286.071594,loss3 12.491862
epoch:1200 Res: 29643.218109 Loss 280.805328,loss1: 8.166532,loss2: 257.087463,loss3 15.551338
epoch:1300 Res: 32661.748352 Loss 323.086792,loss1: 14.590628,loss2: 300.755005,loss3 7.741153
epoch:1400 Res: 34070.387390 Loss 357.401093,loss1: 10.985865,loss2: 332.932037,loss3 13.483198
epoch:1500 Res: 36429.871704 Loss 365.624268,loss1: 12.011618,loss2: 342.595154,loss3 11.017488
epoch:1600 Res: 37455.228241 Loss 387.113739,loss1: 14.985585,loss2: 362.484100,loss3 9.644039
epoch:1700 Res: 39118.475281 Loss 385.542694,loss1: 12.055914,loss2: 361.831421,loss3 11.655371
epoch:1800 Res: 38956.166443 Loss 383.034119,loss1: 18.638144,loss2: 351.160828,loss3 13.235126
epoch:1900 Res: 39994.571228 Loss 405.648102,loss1: 22.339043,loss2: 367.254944,loss3 16.054117
epoch: 1000
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 1.458908372175682. The best ins accuracy on valid data is 87.25%
delta_sub is 0.4. The best sub accuracy on valid data is 77.4%
-----prepare data -----
instanceOf triple classification:
TP:4424, TN:4302, FP:698, FN:576
accuracy: 87.26%
precision: 86.37%
recall: 88.48%
F1-score: 87.41%
subClassOf triple classification:
TP:964, TN:533, FP:467, FN:36
accuracy: 74.85%
precision: 67.37%
recall: 96.40%
F1-score: 79.31%
-----prepare data -----
-----start valid-----
delta_ins is 1.3406185041614374. The best ins accuracy on valid data is 86.51445086705202%
delta_sub is 0.4. The best sub accuracy on valid data is 76.32687447346251%
-----prepare data -----
instanceOf triple classification:
TP:7261, TN:7651, FP:999, FN:1389
accuracy: 86.20%
precision: 87.91%
recall: 83.94%
F1-score: 85.88%
subClassOf triple classification:
TP:1145, TN:641, FP:546, FN:42
accuracy: 75.23%
precision: 67.71%
recall: 96.46%
F1-score: 79.57%
------test classification normal-----
-----start valid normal triple----
start time:Tue Dec 12 21:37:32 2023
-----start test nomal triples----
Triple classification:
TP:8707, TN:8770, FP:594, FN:657
accuracy:93.32%
precision:93.61%
recall:92.98%
F1-score:93.30%
end time:Tue Dec 12 21:49:57 2023
cost_time:744.160122608766s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-12 22:06:41.279116: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 497.625, MeanRankReciprocal:0.107, Hits@10: 0.254
-----Filter-----
-----Average-----
MeanRank: 281.001, MeanRankReciprocal: 0.259, Hits@10: 52.500, Hits@5: 38.900, Hits@3: 29.300, Hits@1: 13.800
cost time: 154.528s
-----Finish evaluation-----
epoch: 1500
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 1.5257372442684858. The best ins accuracy on valid data is 86.89%
delta_sub is 0.42. The best sub accuracy on valid data is 80.5%
-----prepare data -----
instanceOf triple classification:
TP:4370, TN:4344, FP:656, FN:630
accuracy: 87.14%
precision: 86.95%
recall: 87.40%
F1-score: 87.17%
subClassOf triple classification:
TP:943, TN:620, FP:380, FN:57
accuracy: 78.15%
precision: 71.28%
recall: 94.30%
F1-score: 81.19%
-----prepare data -----
-----start valid-----
delta_ins is 1.5257372442684858. The best ins accuracy on valid data is 86.48554913294798%
delta_sub is 0.42. The best sub accuracy on valid data is 79.65459140690817%
-----prepare data -----
instanceOf triple classification:
TP:7401, TN:7527, FP:1123, FN:1249
accuracy: 86.29%
precision: 86.83%
recall: 85.56%
F1-score: 86.19%
subClassOf triple classification:
TP:1112, TN:745, FP:442, FN:75
accuracy: 78.22%
precision: 71.56%
recall: 93.68%
F1-score: 81.14%
------test classification normal-----
-----start valid normal triple----
start time:Tue Dec 12 21:55:29 2023
-----start test nomal triples----
Triple classification:
TP:8774, TN:8687, FP:677, FN:590
accuracy:93.23%
precision:92.84%
recall:93.70%
F1-score:93.27%
end time:Tue Dec 12 22:06:22 2023
cost_time:653.4593007080257s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-12 22:25:00.187544: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 410.057, MeanRankReciprocal:0.113, Hits@10: 0.268
-----Filter-----
-----Average-----
MeanRank: 191.028, MeanRankReciprocal: 0.277, Hits@10: 54.300, Hits@5: 40.700, Hits@3: 31.200, Hits@1: 15.400
cost time: 160.885s
-----Finish evaluation-----
epoch: 2000
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 1.9871221273403628. The best ins accuracy on valid data is 85.49%
delta_sub is 0.0. The best sub accuracy on valid data is 80.5%
-----prepare data -----
instanceOf triple classification:
TP:4192, TN:4349, FP:651, FN:808
accuracy: 85.41%
precision: 86.56%
recall: 83.84%
F1-score: 85.18%
subClassOf triple classification:
TP:931, TN:672, FP:328, FN:69
accuracy: 80.15%
precision: 73.95%
recall: 93.10%
F1-score: 82.43%
-----prepare data -----
-----start valid-----
delta_ins is 1.845184832530337. The best ins accuracy on valid data is 85.79190751445087%
delta_sub is 0.0. The best sub accuracy on valid data is 79.40185341196293%
-----prepare data -----
instanceOf triple classification:
TP:7031, TN:7736, FP:914, FN:1619
accuracy: 85.36%
precision: 88.50%
recall: 81.28%
F1-score: 84.74%
subClassOf triple classification:
TP:1088, TN:800, FP:387, FN:99
accuracy: 79.53%
precision: 73.76%
recall: 91.66%
F1-score: 81.74%
------test classification normal-----
-----start valid normal triple----
start time:Tue Dec 12 22:12:38 2023
-----start test nomal triples----
Triple classification:
TP:8746, TN:8743, FP:621, FN:618
accuracy:93.38%
precision:93.37%
recall:93.40%
F1-score:93.39%
end time:Tue Dec 12 22:24:48 2023
cost_time:729.6707254871726s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-13 06:32:46.894620: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 410.633, MeanRankReciprocal:0.094, Hits@10: 0.243
-----Filter-----
-----Average-----
MeanRank: 191.391, MeanRankReciprocal: 0.199, Hits@10: 53.800, Hits@5: 38.700, Hits@3: 27.300, Hits@1: 3.400
cost time: 157.017s
-----Finish evaluation-----
start time:Tue Dec 12 15:50:39 2023
end time:Tue Dec 12 21:34:57 2023
test end time:Tue Dec 12 22:27:48 2023
margin_ins=1.0, margin_sub=0.3, ex_rate=0.5, bern=1, pnorm=1
train size 822011 354996 437835 29180
epoch:0 Res: 512385.899414 Loss 3240.340820,loss1: 975.819885,loss2: 2204.814941,loss3 59.706017
epoch:100 Res: 79566.345337 Loss 799.597351,loss1: 68.198380,loss2: 711.160034,loss3 20.238926
epoch:200 Res: 80156.396667 Loss 820.540161,loss1: 46.932098,loss2: 751.651855,loss3 21.956179
epoch:300 Res: 80829.641907 Loss 798.810730,loss1: 41.431206,loss2: 730.716553,loss3 26.662952
epoch:400 Res: 80169.363770 Loss 789.535950,loss1: 32.082996,loss2: 733.589355,loss3 23.863567
epoch:500 Res: 76717.393738 Loss 769.720581,loss1: 32.111099,loss2: 712.016907,loss3 25.592575
epoch:600 Res: 71558.095276 Loss 711.393799,loss1: 21.892105,loss2: 664.514038,loss3 24.987654
epoch:700 Res: 67731.220642 Loss 660.662720,loss1: 15.334417,loss2: 618.338501,loss3 26.989834
epoch:800 Res: 64930.310608 Loss 652.788940,loss1: 20.289322,loss2: 607.761841,loss3 24.737818
epoch:900 Res: 63070.867859 Loss 646.074707,loss1: 28.666245,loss2: 590.074219,loss3 27.334240
epoch:1000 Res: 34190.287140 Loss 327.582672,loss1: 4.797884,loss2: 306.112244,loss3 16.672543
epoch:1100 Res: 29412.490265 Loss 290.709991,loss1: 2.173202,loss2: 278.384979,loss3 10.151833
epoch:1200 Res: 29577.745667 Loss 296.119995,loss1: 5.763730,loss2: 280.277344,loss3 10.078913
epoch:1300 Res: 32304.817963 Loss 332.026672,loss1: 10.191729,loss2: 308.587830,loss3 13.247101
epoch:1400 Res: 34036.430145 Loss 330.907806,loss1: 15.558019,loss2: 304.548523,loss3 10.801266
epoch:1500 Res: 36326.465546 Loss 339.411652,loss1: 19.498119,loss2: 309.694336,loss3 10.219195
epoch:1600 Res: 37474.670837 Loss 355.108185,loss1: 13.503628,loss2: 331.072632,loss3 10.531919
epoch:1700 Res: 38971.140930 Loss 374.483826,loss1: 13.246184,loss2: 340.100708,loss3 21.136921
epoch:1800 Res: 38688.052338 Loss 421.066528,loss1: 18.462315,loss2: 386.421082,loss3 16.183130
epoch:1900 Res: 40767.146210 Loss 406.521301,loss1: 22.384830,loss2: 373.269165,loss3 10.867294
epoch: 1000
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 1.101508693000329. The best ins accuracy on valid data is 86.82%
delta_sub is 0.78. The best sub accuracy on valid data is 76.7%
-----prepare data -----
instanceOf triple classification:
TP:4425, TN:4265, FP:735, FN:575
accuracy: 86.90%
precision: 85.76%
recall: 88.50%
F1-score: 87.11%
subClassOf triple classification:
TP:959, TN:515, FP:485, FN:41
accuracy: 73.70%
precision: 66.41%
recall: 95.90%
F1-score: 78.48%
-----prepare data -----
-----start valid-----
delta_ins is 1.0190600844878333. The best ins accuracy on valid data is 86.46242774566474%
delta_sub is 0.78. The best sub accuracy on valid data is 76.07413647851727%
-----prepare data -----
instanceOf triple classification:
TP:7345, TN:7600, FP:1050, FN:1305
accuracy: 86.39%
precision: 87.49%
recall: 84.91%
F1-score: 86.18%
subClassOf triple classification:
TP:1137, TN:623, FP:564, FN:50
accuracy: 74.14%
precision: 66.84%
recall: 95.79%
F1-score: 78.74%
------test classification normal-----
-----start valid normal triple----
start time:Wed Dec 13 06:21:24 2023
-----start test nomal triples----
Triple classification:
TP:8662, TN:8804, FP:560, FN:702
accuracy:93.26%
precision:93.93%
recall:92.50%
F1-score:93.21%
end time:Wed Dec 13 06:32:35 2023
cost_time:670.5029664901085s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-13 06:49:04.921967: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 524.753, MeanRankReciprocal:0.108, Hits@10: 0.266
-----Filter-----
-----Average-----
MeanRank: 299.012, MeanRankReciprocal: 0.274, Hits@10: 54.300, Hits@5: 40.800, Hits@3: 31.400, Hits@1: 14.900
cost time: 151.484s
-----Finish evaluation-----
epoch: 1500
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 1.2586510135856714. The best ins accuracy on valid data is 86.79%
delta_sub is 0.64. The best sub accuracy on valid data is 79.6%
-----prepare data -----
instanceOf triple classification:
TP:4432, TN:4274, FP:726, FN:568
accuracy: 87.06%
precision: 85.92%
recall: 88.64%
F1-score: 87.26%
subClassOf triple classification:
TP:955, TN:576, FP:424, FN:45
accuracy: 76.55%
precision: 69.25%
recall: 95.50%
F1-score: 80.29%
-----prepare data -----
-----start valid-----
delta_ins is 1.1987152510339727. The best ins accuracy on valid data is 86.52023121387283%
delta_sub is 0.64. The best sub accuracy on valid data is 78.89637742207245%
-----prepare data -----
instanceOf triple classification:
TP:7392, TN:7516, FP:1134, FN:1258
accuracy: 86.17%
precision: 86.70%
recall: 85.46%
F1-score: 86.07%
subClassOf triple classification:
TP:1128, TN:698, FP:489, FN:59
accuracy: 76.92%
precision: 69.76%
recall: 95.03%
F1-score: 80.46%
------test classification normal-----
-----start valid normal triple----
start time:Wed Dec 13 06:37:38 2023
-----start test nomal triples----
Triple classification:
TP:8629, TN:8841, FP:523, FN:735
accuracy:93.28%
precision:94.29%
recall:92.15%
F1-score:93.21%
end time:Wed Dec 13 06:48:53 2023
cost_time:674.5417577046901s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
2023-12-13 07:03:24.742155: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 401.416, MeanRankReciprocal:0.113, Hits@10: 0.275
-----Filter-----
-----Average-----
MeanRank: 182.657, MeanRankReciprocal: 0.288, Hits@10: 55.900, Hits@5: 42.600, Hits@3: 32.900, Hits@1: 16.200
cost time: 140.763s
-----Finish evaluation-----
epoch: 2000
------test classification isA-----
-----prepare data -----
-----start valid-----
delta_ins is 1.45130718466204. The best ins accuracy on valid data is 85.53%
delta_sub is 0.4. The best sub accuracy on valid data is 80.5%
-----prepare data -----
instanceOf triple classification:
TP:4035, TN:4482, FP:518, FN:965
accuracy: 85.17%
precision: 88.62%
recall: 80.70%
F1-score: 84.48%
subClassOf triple classification:
TP:917, TN:659, FP:341, FN:83
accuracy: 78.80%
precision: 72.89%
recall: 91.70%
F1-score: 81.22%
-----prepare data -----
-----start valid-----
delta_ins is 1.3820133762665316. The best ins accuracy on valid data is 86.1271676300578%
delta_sub is 0.32. The best sub accuracy on valid data is 79.82308340353833%
-----prepare data -----
instanceOf triple classification:
TP:6955, TN:7859, FP:791, FN:1695
accuracy: 85.63%
precision: 89.79%
recall: 80.40%
F1-score: 84.84%
subClassOf triple classification:
TP:1092, TN:772, FP:415, FN:95
accuracy: 78.52%
precision: 72.46%
recall: 92.00%
F1-score: 81.07%
------test classification normal-----
-----start valid normal triple----
start time:Wed Dec 13 06:53:37 2023
-----start test nomal triples----
Triple classification:
TP:8699, TN:8790, FP:574, FN:665
accuracy:93.38%
precision:93.81%
recall:92.90%
F1-score:93.35%
end time:Wed Dec 13 07:03:13 2023
cost_time:575.9756378708407s
---------test link prediction ---------
-----Loading entity dict-----
#entity: 39374
-----Loading relation dict-----
#relation: 37
-----Loading concept dict-----
#concept: 46109
-----Loading instance_of triples-----
#instance of :437836
-----Loading training triples-----
#triples:354996
-----Loading subclass_of triples-----
#subclass of:29181
#train_num:822013
-----Loading test triples data-----
-----Loading valid triples data-----
-----Start evaluation-----
-----Joining all rank calculator-----
-----All rank calculation accomplished-----
-----Obtaining evaluation results-----
-----Raw-----
------Average------
MeanRank: 423.375, MeanRankReciprocal:0.094, Hits@10: 0.246
-----Filter-----
-----Average-----
MeanRank: 205.365, MeanRankReciprocal: 0.204, Hits@10: 54.800, Hits@5: 39.500, Hits@3: 28.000, Hits@1: 3.700
cost time: 134.247s
-----Finish evaluation-----
start time:Tue Dec 12 22:27:53 2023
end time:Wed Dec 13 06:19:28 2023
test end time:Wed Dec 13 07:05:53 2023
